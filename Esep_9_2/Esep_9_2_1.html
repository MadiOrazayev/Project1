<html>
    <head>
        <title>
            Esep_9_2_1
        </title>
        <style>
            body{
                display: flex;
                justify-content: center;
            }
            .main{
                width:25%;
            }
            .block{
                border: 1px grey solid;
                margin: 1%;
            }
            .title{
                font-weight: bold;
                margin:3%;
                font-family: Arial, Helvetica, sans-serif;
            }
            .characteristic{
                margin: 3%;
                font-family: Arial, Helvetica, sans-serif;
                font-size: small;
            }
            button{
                margin: 3%;
                padding: 1%;
                background-color: green;
                color: white;
            }
            a{
                margin:2%;
            }
        </style>
    </head>
    <body>
        <div class="main">
            <a href="Esep_9_2_2.html">Go to Basket</a>
            <div class="block">
                <p class="title"><span id="title1">IPhone 12 Pro</span> - <span id="price1">1200 USD</span></p>
                <p class="characteristic" id="characteristic">6GB RAM, Memory 128GB, double front back camera</p>
                <button id="btn1">+ ADD TO BASKET</button>
            </div>
            <div class="block">
                <p class="title"><span id="title2">XIAOMI REDMI NOTE 8</span> - <span id="price2">250 USD</span></p>
                <p class="characteristic" id="characteristic">6GB RAM, Memory 64GB, 3 cameras in the back</p>
                <button id="btn2">+ ADD TO BASKET</button>
            </div>
            <div class="block">
                <p class="title"><span id="title3">ASUS Tuf gaming Pro</span> - <span id="price3">1500 USD</span></p>
                <p class="characteristic" id="characteristic">24GB RAM, SSD 1 TB, RX Radeon</p>
                <button id="btn3">+ ADD TO BASKET</button>
            </div>
            <div class="block">
                <p class="title"><span id="title4">Samsung Galaxy Note 13</span> - <span id="price4">999 USD</span></p>
                <p class="characteristic" id="characteristic">4GB RAM, Memory 256GB, front-back cameras</p>
                <button id="btn4">+ ADD TO BASKET</button>
            </div>
        </div>
        <script>
            let tovary=4
            document.addEventListener('click',add)
            let items=[]
            function add(){
                if(JSON.parse(localStorage.getItem('rec'))==null) items=[]
                else items=JSON.parse(localStorage.getItem('rec'))
                for(let i=1; i<=tovary;i++){
                    if(event.target.id=='btn'+i){
                        let item={id:i,title:document.getElementById('title'+i).innerText, price:document.getElementById('price'+i).innerText}
                        let exist=false
                        
                        for(let it of items){
                            if(JSON.stringify(it)==JSON.stringify(item)) exist=true
                        }
                        if(!exist){
                            items.push(item)
                            localStorage.setItem("rec",JSON.stringify(items))
                        }
                    }
                }
            }
        </script>
    </body>
</html>